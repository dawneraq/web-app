<section class="search">
  <label for="search" class="search__label">Look up a definition</label>
  <div class="search__actions">
    <input type="search" id="search" class="search__input" name="search" />
    <button type="button" class="search__button">Search</button>
  </div>
</section>

{% block pageScript%}
<script>
  // don't use es6+ here because it will not be transpiled
  window.addEventListener('DOMContentLoaded', function() {
    try {
      const $search = document.querySelector('#search')

      $search.addEventListener('change', async event => {
        const value = event.target.value

        if (!value) {
          return
        }

        window.location.assign(`/search?q=${value}`)
      })
    } catch (error) {
      console.log('error in search!', error)
    }


  })
</script>
{% endblock %}
